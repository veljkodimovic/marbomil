<div class="container">
  <div class="row">
    <div class="col-12">
      <ul class="breadcrumbs">
        <li>
          <a routerLink="/categories" translate>Products</a><i class="fas fa-chevron-right"></i>
        </li>
        <li *ngIf="productCategory">
          <a routerLink="/categories/{{productCategory.id}}">{{productCategory.title}}</a><i
            class="fas fa-chevron-right"></i>
        </li>
        <li *ngIf="productCollection">
          <a (click)="goTo(productCollection)">{{productCollection.title}}</a><i class="fas fa-chevron-right"></i>
        </li>
        <li *ngIf="productCollectionMain">
          <a (click)="goToProducts(productCollectionMain, productCategory.id)">{{productCollectionMain.title}} </a>
        </li>
      </ul>
    </div>
  </div>
</div>
<div *ngIf="product && !isLoading" class="container single-product">
  <div class="row">
    <div class="col-sm-5">
      <img class="single-product-image" src="{{activeImage}}" alt="{{product.title}}">
      <div class="row single-product-thumbnails">
        <div *ngFor="let productImage of product.images" class="col-4">
          <img (click)="setActive(productImage)" src="{{apiUrl}}/{{productImage.imageCropUrl}}" alt="{{product.title}}">
        </div>
      </div>
      <img src="{{apiUrl}}/{{product.drawingImageUrl}}" alt="{{product.title}}">
    </div>
    <div class="col-sm-6 offset-sm-1">
      <h1>{{product.title}}</h1>
      <div class="single-product-data">
        <p><span translate>Code:</span> {{product.code}}</p>
        <p *ngIf="product.dimension"><span translate>Dimensions:</span> {{product.dimension}}</p>
        <!--<p><span>Dimenzije proizvoda (ŠxVxD):</span> {{product.width}}x{{product.height}}x{{product.depth}}</p>-->
        <p class="single-product-price">
        {{product.price | number : '1.2-2'}} <span class="single-product-price-currency">RSD</span>
        </p>
      </div>
      <p class="single-product-description" [innerHtml]="product.description">
        <!-- {{product.description}} -->
      </p>
      <!--<p class="single-product-price-info">-->
      <!--Cene su iskazane u dinarima sa uključenim PDV-om. Ne možemo Vam garantovati da su sve fotografije potpuno verne, a cene ažurne, iako će Marbomil nastojati da ove informacije budu tačne.-->
      <!--</p>-->
      <div class="col-12 row" [hidden]="!isAuth()" *ngxPermissionsOnly="['Buyer']">
        <div class="col-4 quantity-input">
          <input type="number" class="form-control" id="count" [(ngModel)]="product.count" name="count" min="1"
            #count="ngModel">
        </div>
        <button class="col-4" (click)="addToCart(product)" class="add-to-cart btn btn-primary" translate>Add to cart</button>
      </div>
      <a [hidden]="isAuth()" [routerLink]="[ '/login' ]" class="add-to-cart btn btn-primary btn-lg" translate>Log in to web shop</a>
    </div>
  </div>
</div>
<app-loader [isLoading]="isLoading"></app-loader>